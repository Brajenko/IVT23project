## Критерий интегрируемости
Критерий интегрируемости: чтобы функция $f(x)$ была интегрируема на $[a,b]$ *необходимо и достаточно* $(\Leftrightarrow)$, чтобы предел разницы верхней и нижней частичных сумм был равен нулю:
$$\lim_{\lambda(T) \rightarrow 0} S - s = 0$$
По определению, для любого $\varepsilon>0$ найдется $\delta >0$ что всех $T$ для которых $\lambda(T) < \delta$ будет справедливо $|S-s| < \varepsilon$.

Докажем этот критерий в обе стороны:
(Интегрируема $\Rightarrow$ предел равен нулю): раз функция интегрируема, то есть предел $\lim_{\lambda(T)\rightarrow 0} S(\xi) = I$ для всех $T$ с шагом $\lambda(T) < \delta$. Здесь $S(\xi)$ - интегральная сумма от множества выделенных точек $\xi$.
Положим новый эпсилон $\varepsilon_1 = \varepsilon/10$. Число $10$ не играет особой роли, нужно просто, чтобы оно было достаточно большим ($3$ или больше), чтобы неравенство в конце выполнилось.
По определению предела, для $\varepsilon_1$, или $\varepsilon/10$ есть $\delta>0$, такое что $|S(\xi) - I| < \varepsilon/10$. Из этого неравенства следует:
$$I - \varepsilon/10 < S(\xi) < I + \varepsilon/10$$
Но т.к. $s \leq S(\xi) \leq S$, получим:
$$I - \varepsilon/10 < s < S < I + \varepsilon/10$$
Вычитая левую часть из правой, получим:
$$S - s < 2\varepsilon /10 < \varepsilon$$
Значит, для всех $T$ с $\lambda(T) < \delta$ выполняется $|S - s| < \varepsilon$
(Предел равен нулю $\Rightarrow$ интегрируема): пусть $\lim_{\lambda(T) \rightarrow 0} S-s = 0$. $\underline I$ и $\overline I$ - нижние и верхние интегралы Дарбу (супремум и инфинум среди всех нижних и верхних сумм Дарбу на отрезке соответственно). Из определения следует, что
$$s \leq \underline I \leq \overline I \leq S$$
Положим любое $\varepsilon >0$: в силу существования предела, для выбранного $\varepsilon$ существует разбиение $T$, что $S - s < \varepsilon$. Тогда $\overline I - \underline I$ будет даже меньше чем $\varepsilon$. Из этого следует, при устремлении $\varepsilon \rightarrow 0$, в пределе получается $\overline I = \underline I = I$. Тогда:
$$s \leq I \leq S$$
Так же для любой интегральной суммы верно:
$$s \leq S(\xi) \leq S$$
Совмещая две пары неравенств вместе получаем:
$$|I - S(\xi)| \leq S - s$$
Следовательно, для всех разбиений $T$ с $\lambda(T) < \delta$ имеем
$$|I - S(\xi)| \leq S - s < \varepsilon$$
А это и есть эпсилон-дельта определение предела:
$$\lim_{\lambda(T) \rightarrow 0} S - s = 0$$
Доказательство в обе стороны завершено.

Критерий интегрирования можно сформулировать и через *колебание* функции. Колебание функции на отрезке $[a,b]$ - разница между максимумом и минимумом функции на этом отрезке:
$$\omega = \sup_{x \in [a,b]} f(x) - \inf_{x \in [a,b]} f(x)$$
Определим $\omega_i$ как колебание функции на отрезке $[x_{i-1}, x_i]$. Из определения экстремумов $M_i$ и $m_i$ как супремум и инфинум функции на отрезках, очевидно, что $\omega_i = M_i - m_i$.
$$S - s = \sum_{i=1}^n (M_i - m_i)(x_i - x_{i-1}) = \sum_{i=1}^n \omega_i(x_i - x_{i-1})$$
Тогда критерий интегрирования может быть переписан как:
$$\lim_{\lambda(T) \rightarrow 0} \sum_{i=1}^n \omega_i(x_i-x_{i-1}) = 0$$
## Классы интегрируемых функций
Этот раздел классифицирует различные виды функций, которые можно интегрировать.

***Монотонная на отрезке $[a,b]$ функция интегрируема на нем.***
Докажем для неубывающей функции, для невозрастающей доказательство аналогично. Критерий интегрируемости:
$$\lim_{\lambda(T) \rightarrow 0} \sum_{i=1}^n \omega_i(x_i-x_{i-1}) = 0$$
Т.к. функция неубывающая, инфинумы и экстремумы на отрезках очевидны: $m_i = f(x_{i-1}), M_i = f(x_i)$.
Из-за этого колебание функции на отрезке $\omega_i = f(x_i) - f(x_{i-1})$.
Так же заметим, в силу определения шага $\lambda(T)$ как максимума из длин отрезков разбиения, шаг будет не меньше чем длина любого отрезка. То есть, $\lambda(T) \geq (x_i - x_{i-1})$. Заменяя, получаем неравенство:
$$\sum_{i=1}^n \omega_i(x_i-x_{i-1}) \leq \sum_{i=1}^n (f(x_i) - f(x_{i-1})\lambda(T)$$
Теперь трюк с суммой: шаг разбиения $\lambda(T)$ мы выносим как общий множитель суммы - он не зависит от $i$.
$$\sum_{i=1}^n (f(x_i) - f(x_{i-1})\lambda(T) = \lambda(T)\sum_{i=1}^n (f(x_i) - f(x_{i-1})$$
Разность $f(x_i) - f(x_{i-1})$ геометрически представляет собой прирост функции на отрезке разбиения. Суммируя все эти отрезки вместе, получим общий прирост функции. Другими словами алгебраически, раскрывая всю сумму, все слагаемые, кроме первого и последнего, сократятся между собой, оставив только $f(x_n) - f(x_0)$.
$$(f(x_1) - f(x_0)) + (f(x_2)-f(x_1)) + \ldots = f(x_n) - f(x_0)$$
Итого получаем:
$$\sum_{i=1}^n (f(x_i) - f(x_{i-1})\lambda(T) = \lambda(T)(f(x_n) - f(x_0))$$
При устремлении $\lambda(T) \rightarrow 0$, произведение тоже устремится к нулю. Как следствие неравенства, что было в самом начале (все суммы положительные), сумма $\sum_{i=1}^n \omega_i(x_i-x_{i-1})$ тоже устремится к нулю. Критерий интегрируемости выполняется, а значит монотонные функции можно интегрировать.

---
***Пусть $f(x)$ определена и ограничена на $[a,b]$ и интегрируема на любом отрезке $[a+\eta, b]$. Тогда $f(x)$ интегрируема на $[a,b]$, причем*** $$\int_a^b f(x) \dd x = \lim_{\eta \rightarrow +0} \int_{a+\eta}^b f(x)\dd x$$
Докажем, что $f(x)$ интегрируема на $[a,b]$.
Выберем произвольное $\varepsilon > 0$. Раз функция $f(x)$ ограничена, существует такое $C$, что $|f(x)| \leq C$. Выберем $\eta$ достаточно малым, что$$\eta \cdot 2C < \varepsilon/10$$Раз функция интегрируема на отрезке $[a+\eta, b]$, выполняется критерий интегрируемости (предел). По критерию интегрируемости, существует $\delta_1 > 0$ такое, что для любого разбиения $T'$ отрезка интегрирования $[a + \eta, b]$ с шагом разбиения $\lambda(T') < \delta_1$ будет выполнено неравенство:
$$\sum_{k=1}^n \omega_k \Delta x_k < \varepsilon/10$$
Но это всего лишь интегрируемость части отрезка ($[a+\eta, b]$), а нам нужна интегрируемость ***всего*** отрезка $[a,b]$.
Выберем $\delta = \min(\eta, \delta_1)$ (нас интересует главное, что $\delta \leq \eta$). Покажем, что для любого разбиения $T$ с шагом $\lambda(T) < \delta$ всего отрезка $[a,b]$ выполняется $\sum_{k=1}^n \omega_k \Delta x_k < \varepsilon$, что докажет интегрируемость по критерию интегрируемости.
Разобъем сумму на три части - \[левее отрезка с точкой $a+\eta$\], \[сам отрезок с точкой $a+\eta$\], \[правее этого отрезка\]:
$$\sum_{k=1}^n \omega_k \Delta x_k = \sum_{k=1}^{n_1-1} \omega_k \Delta x_k + \omega_{n_1} \Delta x_{n_1} + \sum_{k=n_1+1}^n \omega_k \Delta x_k$$
Отметим, что раз функция $f(x)$ на отрезке $[a,b]$ ограничена $C$, то ее колебание не может превышать $2C$: $\omega_k \leq 2C$.
Левую часть суммы мы ограничиваем сверху другой суммой с помощью замены колебания на $2C$. Сумма всех $\Delta x_k$ слева будет не больше длины отрезка левой части: $a+\eta - a = \eta$:
$$\sum_{k=1}^{n_1-1} \omega_k \Delta x_k = 2C\sum_{k=1}^{n_1-1} \Delta x_k =2C\eta < \varepsilon/10$$
Здесь мы используем неравенство, с помощью которого мы и выбрали $\eta$ в самом начале.
Теперь средняя часть - все так же используем неравенство $\omega_k \leq 2C$. $\Delta x_{n_1}$ мы можем ограничить сверху с помощью шага разбиения $\lambda(T)$ - мы сказали, что оно меньше $\delta$, поэтому $\Delta x_{n_1}$. В свою очередь, $\delta = \min(\eta, \delta_1)$, поэтому $\delta < \eta$. В конце мы используем то же самое неравенство, что и выше:
$$\omega_{n_1} \Delta x_{n_1} = 2C \delta = 2C\eta < \varepsilon/10$$
Правая часть остается тривиальной - это сумма по отрезку $[a+\eta, b]$, а мы его уже рассмотрели, ведь эта часть точно интегрируема. Такая сумма тоже будет меньше, чем $\varepsilon/10$.
Раз каждая из частей меньше, чем $\varepsilon/10$, в сумме они дадут $3 \varepsilon/10$, что явно меньше $\varepsilon$ - это доказывает, что для любого выбранного $\delta$, $\sum_{k=1}^n \omega_k \Delta x_k < \varepsilon$, и по критерию интегрируемости такой класс функций тоже интегрируем. Доказательство завершено.

---
***Пусть $f(x)$ ограничена на $[a,b]$ и непрерывна хотя бы на $[a,b)$ (или $(a,b]$). Тогда она интегрируема на $[a,b]$.***
Этот класс вытекает сразу из прошлого, если представить интервал $[a, b)$ как предел отрезка $[a, b-\eta]$ при $\eta \rightarrow 0+$.

---
***Пусть $f(x)$ интегрируема на $[a,b]$. Тогда она интегрируема на любом $[c,d] \subset [a,b]$.***
Согласно критерию интегрируемости, для разбиения $T$ отрезка $[a,b]$, для шага разбиения $\lambda(T)<\delta$, следует $\sum_{k=1}^n \omega_k \Delta x_k < \varepsilon$.
Теперь возьмем разбиение $T'$ отрезка $[c,d]$ с шагом разбиения $\lambda(T') < \delta$. Раз $[c,d]$ содержится в $[a,b]$, просто продлим наше разбиение с отрезка $[c,d]$ на отрезок $[a,b]$, причем так, чтобы шаг разбиения не увеличился - для этого мы выбираем точки $x_k$ достаточно близко (не дальше, чем $\lambda(T)$ от прошлой точки): получим, что $\lambda(T') = \lambda(T)$. Тогда:
$$\sum_{T'} \omega_k \Delta x_k \leq \sum_{T} \omega_k \Delta x_k < \varepsilon$$
Раз сумма по разбиению $T'$ меньше $\varepsilon$, то по критерию сходимости такой класс функций тоже интегрируется.

---
***Пусть $f(x)$ интегрируема на $[a,b]$ и на $[b,c]$. Тогда $f(x)$ интегрируема на $[a,c]$.***
Выберем разбиения $T_1$ и $T_2$ для отрезков $[a,b]$ и $[b,c]$ соответственно. По критерию интегрируемости, можем сказать, что:
$$\sum_{T_1} \omega_k \Delta x_k < \varepsilon/10 \ \ \ \ \ \ \ \ \ \sum_{T_2} \omega_k \Delta x_k < \varepsilon/10$$
Разбиение $T_1$ заканчивается в точке $b$, а $T_2$ в ней начинается. Составим разбиение $T$ из объединения этих двух разбиений. Тогда:
$$\sum_{T} \omega_k \Delta x_k = \sum_{T_1} \omega_k \Delta x_k + \sum_{T_2} \omega_k \Delta x_k = 2\varepsilon/10 < \varepsilon$$
И снова по критерию интегрируемости, раз сумма меньше любого выбранного $\varepsilon$, значит такой класс функций тоже интегрируется.

---
***Пусть ограниченная функция $f(x)$ непрерывна на $[a, b]$ за исключением может быть конечного числа точек. Тогда $f(x)$ интегрируема на $[a, b]$.***
Этот класс просто обобщение прошлого класса - если функция непрерывна на $[a,b]$ за исключением конечного числа точек, то она будет непрерывна на отрезках $[a, x_1], [x_1, x_2], \ldots, [x_n, b]$. Применяя последовательно прошлый класс функций можно показать, что эта функция будет интегрируема на объединении всех этих отрезков - $[a,b]$.